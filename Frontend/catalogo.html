<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cat치logo de Repuestos y Servicios | Taller</title>
  <meta name="description" content="Explora repuestos y servicios disponibles: stock actualizado, retiro en taller o env칤o en Bogot치." />
  <meta name="keywords" content="repuestos automotriz, taller, cat치logo, env칤o bogot치, instalaci칩n" />
  <meta property="og:title" content="Cat치logo de Repuestos y Servicios" />
  <meta property="og:description" content="Consulta disponibilidad y solicita tus repuestos con pago contra entrega." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="es_CO" />
  <link rel="canonical" href="/catalogo.html" />
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: ['class', '.theme-light'],
      theme: {
        extend: {
          colors: {
            'dark-bg': '#0f172a',
            'dark-card': '#111827',
            'dark-card-alt': '#0b1220',
            'dark-text': '#e5e7eb',
            'dark-muted': '#9ca3af',
            'dark-border': '#1f2937',
          }
        }
      }
    }
  </script>
  <style>
    /* Estilos para modo claro - Sobrescribir colores de Tailwind */
    body.theme-light [class*="from-slate-900"][class*="via-slate-800"][class*="to-slate-900"],
    body.theme-light [class*="bg-gradient-to-r"][class*="from-slate-900"] {
      background: linear-gradient(to right, #f8fafc, #f1f5f9, #f8fafc) !important;
    }
    body.theme-light [class*="bg-slate-800/50"],
    body.theme-light [class*="bg-slate-800"][class*="/50"] {
      background-color: rgba(241, 245, 249, 0.8) !important;
    }
    body.theme-light [class*="bg-slate-800"]:not([class*="/"]):not([class*="hover"]):not([class*="from"]):not([class*="via"]):not([class*="to"]) {
      background-color: #f1f5f9 !important;
    }
    body.theme-light .text-white:not(.bg-blue-600):not(.bg-blue-700):not(.bg-purple-600):not(.bg-purple-700) {
      color: #0f172a !important;
    }
    body.theme-light .text-slate-300 {
      color: #475569 !important;
    }
    body.theme-light .text-slate-400 {
      color: #000000 !important;
    }
    body.theme-light .text-slate-500 {
      color: #000000 !important;
    }
    body.theme-light .text-slate-600 {
      color: #000000 !important;
    }
    body.theme-light .text-slate-700 {
      color: #000000 !important;
    }
    body.theme-light .text-slate-800 {
      color: #000000 !important;
    }
    /* Mejorar contraste en modales - Forzar texto negro */
    body.theme-light #modal,
    body.theme-light #modal *:not(.bg-blue-600):not(.bg-blue-700):not(.bg-green-600):not(.bg-green-700):not(.bg-red-600):not(.bg-red-700):not(.bg-yellow-600):not(.bg-yellow-700):not(.bg-purple-600):not(.bg-purple-700) {
      color: #000000 !important;
    }
    body.theme-light #modal label,
    body.theme-light #modal .text-slate-300,
    body.theme-light #modal .text-slate-400,
    body.theme-light #modal .text-slate-500,
    body.theme-light #modal .text-slate-600,
    body.theme-light #modal .text-slate-700,
    body.theme-light #modal .text-slate-800,
    body.theme-light #modal h1,
    body.theme-light #modal h2,
    body.theme-light #modal h3,
    body.theme-light #modal h4,
    body.theme-light #modal p,
    body.theme-light #modal span,
    body.theme-light #modal div:not(.bg-blue-600):not(.bg-blue-700):not(.bg-green-600):not(.bg-green-700):not(.bg-red-600):not(.bg-red-700) {
      color: #000000 !important;
    }
    /* Mejorar contraste en selects y dropdowns */
    body.theme-light select,
    body.theme-light select option,
    body.theme-light select.text-slate-300,
    body.theme-light select.text-slate-400,
    body.theme-light select.text-slate-500,
    body.theme-light select.text-slate-600,
    body.theme-light select.text-slate-700,
    body.theme-light select.text-slate-800 {
      color: #000000 !important;
      background-color: #ffffff !important;
    }
    body.theme-light select option {
      color: #000000 !important;
      background-color: #ffffff !important;
    }
    /* Mejorar contraste en inputs dentro de modales */
    body.theme-light #modal input,
    body.theme-light #modal textarea,
    body.theme-light #modal select {
      color: #000000 !important;
    }
    body.theme-light #modal input::placeholder,
    body.theme-light #modal textarea::placeholder {
      color: #666666 !important;
    }
    /* Mejorar contraste en dropdowns de veh칤culos y otros */
    body.theme-light [id*="dropdown"],
    body.theme-light [id*="Dropdown"],
    body.theme-light [class*="dropdown"],
    body.theme-light [class*="Dropdown"] {
      background-color: #ffffff !important;
      color: #000000 !important;
    }
    body.theme-light [id*="dropdown"] *,
    body.theme-light [id*="Dropdown"] *,
    body.theme-light [class*="dropdown"] *,
    body.theme-light [class*="Dropdown"] * {
      color: #000000 !important;
    }
    /* Cambiar fondos grises de formularios a blanco/celeste claro */
    body.theme-light input[class*="bg-slate-900"],
    body.theme-light textarea[class*="bg-slate-900"],
    body.theme-light select[class*="bg-slate-900"],
    body.theme-light input[class*="bg-slate-800"],
    body.theme-light textarea[class*="bg-slate-800"],
    body.theme-light select[class*="bg-slate-800"] {
      background-color: #ffffff !important;
    }
    body.theme-light input[class*="bg-slate-900/50"],
    body.theme-light textarea[class*="bg-slate-900/50"],
    body.theme-light select[class*="bg-slate-900/50"],
    body.theme-light input[class*="bg-slate-800/50"],
    body.theme-light textarea[class*="bg-slate-800/50"],
    body.theme-light select[class*="bg-slate-800/50"] {
      background-color: #ffffff !important;
    }
    /* Cambiar fondo del modal a blanco */
    body.theme-light #modal > div,
    body.theme-light #modal .bg-slate-800:not([class*="hover"]),
    body.theme-light #modal [class*="bg-slate-800"]:not([class*="hover"]):not([class*="text"]) {
      background-color: #ffffff !important;
    }
    body.theme-light #modal [class*="bg-slate-800/50"] {
      background-color: rgba(255, 255, 255, 0.95) !important;
    }
    /* Cambiar todos los inputs, textareas y selects dentro de modales */
    body.theme-light #modal input:not([type="checkbox"]):not([type="radio"]),
    body.theme-light #modal textarea,
    body.theme-light #modal select {
      background-color: #ffffff !important;
      border-color: #7dd3fc !important;
    }
    /* Cambiar fondos de formularios en toda la p치gina */
    body.theme-light input:not([type="checkbox"]):not([type="radio"]):not([class*="bg-blue"]):not([class*="bg-green"]):not([class*="bg-red"]):not([class*="bg-yellow"]):not([class*="bg-purple"]),
    body.theme-light textarea:not([class*="bg-blue"]):not([class*="bg-green"]):not([class*="bg-red"]):not([class*="bg-yellow"]):not([class*="bg-purple"]),
    body.theme-light select:not([class*="bg-blue"]):not([class*="bg-green"]):not([class*="bg-red"]):not([class*="bg-yellow"]):not([class*="bg-purple"]) {
      background-color: #ffffff !important;
    }
    body.theme-light [class*="border-slate-700/50"],
    body.theme-light [class*="border-slate-700"][class*="/50"] {
      border-color: rgba(203, 213, 225, 0.5) !important;
    }
    body.theme-light [class*="hover:bg-slate-700/50"]:hover,
    body.theme-light button:hover[class*="hover:bg-slate-700"] {
      background-color: rgba(203, 213, 225, 0.5) !important;
    }
    body.theme-light [class*="hover:text-white"]:hover:not(.bg-blue-600):not(.bg-blue-700) {
      color: #0f172a !important;
    }
    /* Estilos para el fondo de la p치gina */
    body {
      background-color: #0f172a;
      min-height: 100vh;
    }
    body.theme-light {
      background-color: #f8fafc;
    }
    /* Estilos del cat치logo p칰blico */
    body.catalog-public { --pg-max-width: 1200px; }
    .hero-slider { position:relative; }
    .hero-slides { display:grid; }
    .hero-slide { opacity:0; transform:translateY(6px); transition:opacity .6s ease, transform .6s ease; position:relative; display:flex; flex-direction:column; gap:6px; padding:8px 4px; }
    .hero-slide.active { opacity:1; transform:translateY(0); }
    .hero-slide h2 { margin:0; font-size: clamp(1.05rem,2.6vw,1.6rem); }
    .hero-slide p { margin:0; font-size:14px; line-height:1.3; max-width:560px; }
    .hero-nav { display:flex; gap:8px; margin-top:14px; }
    .hero-dot { width:14px; height:14px; border-radius:50%; border:2px solid rgba(255,255,255,.7); background:transparent; cursor:pointer; padding:0; transition:background .3s,border-color .3s; }
    .hero-dot.active { background:#fff; border-color:#fff; }
    .hero-arrows { position:absolute; top:8px; right:8px; display:flex; gap:6px; }
    .hero-prev,.hero-next { background:rgba(255,255,255,.15); backdrop-filter:blur(4px); border:1px solid rgba(255,255,255,.25); color:#fff; padding:6px 10px; border-radius:8px; cursor:pointer; font-size:12px; }
    .hero-prev:hover,.hero-next:hover { background:rgba(255,255,255,.3); }
    .slider-cta { align-self:flex-start; margin-top:4px; background:#fff; color:#0f172a; font-weight:600; padding:8px 14px; border-radius:8px; border:0; cursor:pointer; font-size:13px; }
    .slider-cta:hover { background:#e2e8f0; }
    .visually-hidden { position:absolute !important; width:1px !important; height:1px !important; padding:0 !important; margin:-1px !important; overflow:hidden !important; clip:rect(0 0 0 0) !important; white-space:nowrap !important; border:0 !important; }
    .badge { position:absolute; left:8px; top:8px; background:rgba(2,132,199,.9); color:#fff; font-size:11px; padding:3px 8px; border-radius:999px; box-shadow:0 2px 8px rgba(2,132,199,.4); }
    .badge.low { background:#ef4444; }
    .search-hit { animation:blink .9s ease; }
    @keyframes blink { 0% { background:rgba(255,255,0,.35); } 100% { background:transparent; } }
    .skeleton { background: linear-gradient(90deg, rgba(148,163,184,.15), rgba(148,163,184,.25), rgba(148,163,184,.15)); background-size:200% 100%; animation: shimmer 1.2s infinite; }
    @keyframes shimmer { 0%{ background-position:200% 0; } 100%{ background-position: -200% 0; } }
    /* Estilos personalizados para barras de scroll */
    .custom-scrollbar {
      scrollbar-width: thin;
      scrollbar-color: rgba(148, 163, 184, 0.5) transparent;
    }
    .custom-scrollbar::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
      background: transparent;
      border-radius: 4px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: rgba(148, 163, 184, 0.5);
      border-radius: 4px;
      transition: background 0.2s ease;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: rgba(148, 163, 184, 0.7);
    }
    body.theme-light .custom-scrollbar {
      scrollbar-color: rgba(100, 116, 139, 0.4) transparent;
    }
    body.theme-light .custom-scrollbar::-webkit-scrollbar-thumb {
      background: rgba(100, 116, 139, 0.4);
    }
    body.theme-light .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: rgba(100, 116, 139, 0.6);
    }
    /* Estilos para el carrito */
    .cart-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: rgba(30, 41, 59, 0.3);
      border: 1px solid rgba(148, 163, 184, 0.2);
      border-radius: 8px;
      margin-bottom: 8px;
    }
    body.theme-light .cart-item {
      background: #f8fafc;
      border-color: rgba(203, 213, 225, 0.5);
    }
    .cart-item > span:first-child {
      flex: 1;
      font-size: 14px;
      font-weight: 500;
      color: white;
      word-break: break-word;
    }
    body.theme-light .cart-item > span:first-child {
      color: #0f172a;
    }
    .cart-item input[type="number"] {
      width: 70px;
      padding: 6px 8px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      border-radius: 6px;
      background: rgba(15, 23, 42, 0.5);
      color: white;
      text-align: center;
      font-size: 14px;
    }
    body.theme-light .cart-item input[type="number"] {
      background: #ffffff;
      border-color: rgba(203, 213, 225, 0.5);
      color: #0f172a;
    }
    .cart-item button.danger {
      width: 32px;
      height: 32px;
      padding: 0;
      border-radius: 6px;
      background: rgba(239, 68, 68, 0.8);
      color: white;
      border: 0;
      cursor: pointer;
      font-weight: bold;
      font-size: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    .cart-item button.danger:hover {
      background: rgba(239, 68, 68, 1);
      transform: scale(1.05);
    }
    body.theme-light .cart-item button.danger {
      background: #ef4444;
      color: white;
    }
    body.theme-light .cart-item button.danger:hover {
      background: #dc2626;
    }
    #cartModal .bg-slate-800 {
      padding: 24px;
    }
    #cartModal h3 {
      margin-bottom: 16px;
      font-size: 20px;
      font-weight: 700;
    }
    #cartTotal {
      font-size: 18px;
      font-weight: 700;
      color: white;
    }
    body.theme-light #cartTotal {
      color: #0f172a;
    }
    #cartItems {
      min-height: 100px;
      max-height: 400px;
    }
    #cartItems:empty::before {
      content: "El carrito est치 vac칤o";
      display: block;
      text-align: center;
      padding: 40px 20px;
      color: rgba(148, 163, 184, 0.7);
      font-style: italic;
    }
    body.theme-light #cartItems:empty::before {
      color: rgba(100, 116, 139, 0.6);
    }
    /* Estilos para tarjetas de items del cat치logo */
    .item-card {
      background: rgba(30, 41, 59, 0.5);
      border: 1px solid rgba(148, 163, 184, 0.2);
      border-radius: 12px;
      padding: 12px;
      transition: all 0.2s;
      display: flex;
      flex-direction: column;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }
    body.theme-light .item-card {
      background: #ffffff;
      border-color: rgba(203, 213, 225, 0.5);
    }
    .item-card:hover {
      border-color: rgba(148, 163, 184, 0.4);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    body.theme-light .item-card:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    .item-card .media {
      position: relative;
      width: 100%;
      aspect-ratio: 4/3;
      overflow: hidden;
      border-radius: 8px;
      background: rgba(15, 23, 42, 0.5);
      margin-bottom: 10px;
    }
    body.theme-light .item-card .media {
      background: #f1f5f9;
    }
    .item-card .media img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      display: block;
    }
    .item-card .item-name {
      font-size: 14px;
      font-weight: 600;
      color: white;
      margin-bottom: 6px;
      line-height: 1.4;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }
    body.theme-light .item-card .item-name {
      color: #0f172a;
    }
    .item-card .item-brand {
      font-size: 12px;
      color: rgba(148, 163, 184, 0.8);
      margin-bottom: 6px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }
    body.theme-light .item-card .item-brand {
      color: #64748b;
    }
    .item-card .item-price {
      font-size: 16px;
      font-weight: 700;
      color: #10b981;
      margin-bottom: 8px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }
    body.theme-light .item-card .item-price {
      color: #059669;
    }
    .item-card .item-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      margin-bottom: 10px;
      font-size: 11px;
    }
    .item-card .item-tags span {
      padding: 2px 6px;
      background: rgba(59, 130, 246, 0.2);
      color: rgba(147, 197, 253, 0.9);
      border-radius: 4px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }
    body.theme-light .item-card .item-tags span {
      background: rgba(59, 130, 246, 0.1);
      color: #2563eb;
    }
    .item-card .card-actions {
      display: flex;
      gap: 6px;
      margin-top: auto;
    }
    .item-card .card-actions button {
      flex: 1;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 500;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }
    .item-card .card-actions button.secondary {
      background: rgba(100, 116, 139, 0.3);
      color: white;
    }
    .item-card .card-actions button.secondary:hover {
      background: rgba(100, 116, 139, 0.5);
    }
    body.theme-light .item-card .card-actions button.secondary {
      background: #e2e8f0;
      color: #475569;
    }
    body.theme-light .item-card .card-actions button.secondary:hover {
      background: #cbd5e1;
      color: #334155;
    }
    .item-card .card-actions button:not(.secondary) {
      background: rgba(59, 130, 246, 0.8);
      color: white;
    }
    .item-card .card-actions button:not(.secondary):hover {
      background: rgba(59, 130, 246, 1);
    }
    body.theme-light .item-card .card-actions button:not(.secondary) {
      background: #2563eb;
      color: white;
    }
    body.theme-light .item-card .card-actions button:not(.secondary):hover {
      background: #1d4ed8;
    }
    .item-card .card-actions button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  </style>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <script src="./assets/js/cache-buster.js"></script>
  <!-- Backend config must load before API to set API_BASE/BACKEND_URL -->
  <script src="./assets/js/config.js"></script>
  <script src="./assets/js/api.js"></script>
  <script type="module" src="./assets/js/api.esm.js"></script>
  <!-- Migrado a versi칩n segmentada por empresa -->
  <script type="module" src="./assets/js/catalog-public.js"></script>
  <script>
    // Lazy image upgrade (IntersectionObserver) para browsers sin soporte nativo avanzado
    document.addEventListener('DOMContentLoaded', () => {
      const supportsNative = 'loading' in HTMLImageElement.prototype;
      const imgs = document.querySelectorAll('img');
      if(supportsNative){
        imgs.forEach(im => im.setAttribute('loading','lazy'));
        return;
      }
      const obs = new IntersectionObserver(entries => {
        entries.forEach(e => {
          if(e.isIntersecting){
            const im = e.target;
            const src = im.dataset.src;
            if(src){ im.src = src; }
            obs.unobserve(im);
          }
        });
      }, { rootMargin: '200px' });
      imgs.forEach(im => {
        if(!im.dataset.src){ im.dataset.src = im.src; im.src = 'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22150%22></svg>'; }
        obs.observe(im);
      });
    });
  </script>
</head>
<body class="catalog-public" data-page="catalog-public">
  <header class="bg-slate-800 dark:bg-slate-800 theme-light:bg-white border-b border-slate-700/50 dark:border-slate-700/50 theme-light:border-slate-300 shadow-md sticky top-0 z-50 px-4 py-3">
    <div class="flex items-center gap-4 flex-wrap">
      <strong class="text-base font-semibold text-white dark:text-white theme-light:text-slate-900">Cat치logo</strong>
      <nav class="flex items-center gap-2">
        <a href="catalogo.html" class="px-3 py-1.5 rounded-lg text-sm font-medium text-slate-300 dark:text-slate-300 theme-light:text-slate-700 hover:bg-slate-700/50 dark:hover:bg-slate-700/50 theme-light:hover:bg-slate-100 transition-colors duration-200 bg-blue-600/20 dark:bg-blue-600/20 theme-light:bg-blue-50 text-blue-200 dark:text-blue-200 theme-light:text-blue-700 border border-blue-500/30 dark:border-blue-500/30 theme-light:border-blue-200">Inicio</a>
        <button disabled class="px-3 py-1.5 rounded-lg text-sm font-medium text-slate-300 dark:text-slate-300 theme-light:text-slate-600 opacity-50 cursor-not-allowed border-0 bg-transparent" title="Pr칩ximamente" style="pointer-events: none;">Categor칤as</button>
        <button disabled class="px-3 py-1.5 rounded-lg text-sm font-medium text-slate-300 dark:text-slate-300 theme-light:text-slate-600 opacity-50 cursor-not-allowed border-0 bg-transparent" title="Pr칩ximamente" style="pointer-events: none;">Promociones</button>
      </nav>
      <button id="toggleTheme" class="ml-auto px-4 py-2 rounded-full text-sm font-medium bg-slate-700/50 dark:bg-slate-700/50 theme-light:bg-slate-200 text-white dark:text-white theme-light:text-slate-700 hover:bg-slate-700 dark:hover:bg-slate-700 theme-light:hover:bg-slate-300 transition-colors duration-200 border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300">Oscuro</button>
      <a id="waHeader" href="#" target="_blank" rel="noopener" class="hidden px-4 py-2 rounded-full text-sm font-medium bg-green-600 text-white hover:bg-green-700 transition-colors duration-200 border border-green-500/30" style="display:none;">WhatsApp</a>
    </div>
  </header>
  <div class="max-w-7xl mx-auto px-4 py-4" id="catalogContainer">
    <section class="mb-4" id="filters">
      <div class="flex gap-3 flex-wrap items-end">
        <label class="flex flex-col gap-1">
          <span class="text-xs text-slate-300 dark:text-slate-300 theme-light:text-slate-600 opacity-80">Buscar</span>
          <input id="f-q" placeholder="Nombre o SKU" class="px-3 py-2 rounded-lg border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300 bg-slate-700/50 dark:bg-slate-700/50 theme-light:bg-white text-white dark:text-white theme-light:text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[160px]" />
        </label>
        <label class="flex flex-col gap-1">
          <span class="text-xs text-slate-300 dark:text-slate-300 theme-light:text-slate-600 opacity-80">Marca</span>
          <input id="f-brand" placeholder="Ej: RENAULT" class="px-3 py-2 rounded-lg border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300 bg-slate-700/50 dark:bg-slate-700/50 theme-light:bg-white text-white dark:text-white theme-light:text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[160px]" />
        </label>
        <label class="flex flex-col gap-1">
          <span class="text-xs text-slate-300 dark:text-slate-300 theme-light:text-slate-600 opacity-80">Categor칤a</span>
          <input id="f-category" placeholder="Ej: Frenos" class="px-3 py-2 rounded-lg border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300 bg-slate-700/50 dark:bg-slate-700/50 theme-light:bg-white text-white dark:text-white theme-light:text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[160px]" />
        </label>
        <label class="flex flex-col gap-1">
          <span class="text-xs text-slate-300 dark:text-slate-300 theme-light:text-slate-600 opacity-80">Tags</span>
          <input id="f-tags" placeholder="Coma: pastillas,logan" class="px-3 py-2 rounded-lg border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300 bg-slate-700/50 dark:bg-slate-700/50 theme-light:bg-white text-white dark:text-white theme-light:text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[160px]" />
        </label>
        <label class="flex flex-col gap-1">
          <span class="text-xs text-slate-300 dark:text-slate-300 theme-light:text-slate-600 opacity-80">Stock</span>
          <select id="f-stock" class="px-3 py-2 rounded-lg border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300 bg-slate-700/50 dark:bg-slate-700/50 theme-light:bg-white text-white dark:text-white theme-light:text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[160px]">
            <option value="1" selected>Solo con stock</option>
            <option value="all">Incluir agotados</option>
          </select>
        </label>
        <label class="flex flex-col gap-1">
          <span class="text-xs text-slate-300 dark:text-slate-300 theme-light:text-slate-600 opacity-80">Ordenar</span>
          <select id="f-order" class="px-3 py-2 rounded-lg border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300 bg-slate-700/50 dark:bg-slate-700/50 theme-light:bg-white text-white dark:text-white theme-light:text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[160px]">
            <option value="recent">M치s recientes</option>
            <option value="price-asc">Precio: menor a mayor</option>
            <option value="price-desc">Precio: mayor a menor</option>
            <option value="name-asc">Nombre A-Z</option>
          </select>
        </label>
        <select id="f-limit" class="px-3 py-2 rounded-lg border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300 bg-slate-700/50 dark:bg-slate-700/50 theme-light:bg-white text-white dark:text-white theme-light:text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500">
          <option value="12">12</option>
          <option value="20">20</option>
          <option value="40" selected>40</option>
        </select>
        <button id="f-apply" class="px-4 py-2 bg-slate-700/50 dark:bg-slate-700/50 hover:bg-slate-700 dark:hover:bg-slate-700 text-white dark:text-white font-semibold rounded-lg transition-all duration-200 border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300 theme-light:bg-slate-200 theme-light:text-slate-700 theme-light:hover:bg-slate-300 theme-light:hover:text-slate-900">Filtrar</button>
        <button id="f-clear" class="px-4 py-2 bg-slate-700/50 dark:bg-slate-700/50 hover:bg-slate-700 dark:hover:bg-slate-700 text-white dark:text-white font-semibold rounded-lg transition-all duration-200 border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300 theme-light:bg-slate-200 theme-light:text-slate-700 theme-light:hover:bg-slate-300 theme-light:hover:text-slate-900">Limpiar</button>
      </div>
    </section>

    <section id="catalogItemsSection">
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4" id="itemsGrid"></div>
      <div class="flex gap-2 justify-center flex-wrap mt-6 mb-6" id="pagination"></div>
    </section>
  </div>

  <!-- Floating action button for cart -->
  <div class="fixed right-4 bottom-4 z-40">
    <button id="openCart" title="Ver carrito" class="w-14 h-14 rounded-full bg-blue-600 hover:bg-blue-700 text-white border-0 shadow-lg font-bold cursor-pointer transition-colors duration-200 text-xl">游</button>
    <div id="cartBadge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs min-w-[20px] h-5 rounded-full flex items-center justify-center px-1.5 shadow-md" style="display:none;">0</div>
  </div>

  <!-- Cart modal -->
  <div id="cartModal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 bg-black/60 dark:bg-black/60 theme-light:bg-black/40 backdrop-blur-sm" aria-hidden="true">
    <div class="bg-slate-800 dark:bg-slate-800 theme-light:bg-white text-white dark:text-white theme-light:text-slate-900 w-full max-w-2xl max-h-[82vh] overflow-auto rounded-2xl p-6 shadow-2xl flex flex-col gap-4 custom-scrollbar border border-slate-700/50 dark:border-slate-700/50 theme-light:border-slate-300/50" role="dialog" aria-modal="true" aria-label="Carrito">
      <div class="flex items-center justify-between border-b border-slate-700/50 dark:border-slate-700/50 theme-light:border-slate-300 pb-3">
        <h3 class="m-0 text-xl font-bold">Carrito (<span id="cartCount">0</span>)</h3>
        <button id="closeCart" class="px-4 py-2 bg-slate-700/50 dark:bg-slate-700/50 hover:bg-slate-700 dark:hover:bg-slate-700 text-white dark:text-white font-semibold rounded-lg transition-all duration-200 border border-slate-600/50 dark:border-slate-600/50 theme-light:border-slate-300 theme-light:bg-slate-200 theme-light:text-slate-700 theme-light:hover:bg-slate-300 theme-light:hover:text-slate-900">Cerrar</button>
      </div>
      <div class="flex-1 overflow-auto flex flex-col gap-2 custom-scrollbar min-h-[200px]" id="cartItems">
        <div class="text-center py-12 text-slate-400 dark:text-slate-400 theme-light:text-slate-500 italic">El carrito est치 vac칤o</div>
      </div>
      <div class="border-t border-slate-700/50 dark:border-slate-700/50 theme-light:border-slate-300 pt-4 mt-2">
        <div class="flex items-center justify-between mb-4">
          <span class="text-base font-semibold">Total:</span>
          <span class="text-xl font-bold" id="cartTotal">$ 0</span>
        </div>
        <div class="flex gap-2 justify-end">
          <button id="cartCheckout" disabled class="px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 dark:from-blue-600 dark:to-blue-700 theme-light:from-blue-500 theme-light:to-blue-600 hover:from-blue-700 hover:to-blue-800 dark:hover:from-blue-700 dark:hover:to-blue-800 theme-light:hover:from-blue-600 theme-light:hover:to-blue-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-base">Checkout</button>
        </div>
      </div>
    </div>
  </div>
  <script>
    // Mensaje si falta companyId
    document.addEventListener('DOMContentLoaded', () => {
      const url = new URL(window.location.href);
      if(!url.searchParams.get('companyId')){
        const cont = document.getElementById('catalogItemsSection');
        if(cont){
          cont.innerHTML = "<div class='p-10 text-center opacity-70 text-slate-300 dark:text-slate-300 theme-light:text-slate-600'>Falta companyId. Usa ?companyId=&lt;id&gt; en la URL para cargar el cat치logo p칰blico de una empresa.</div>";
        }
      }
      // FAB open/close handlers
      const openBtn = document.getElementById('openCart');
      const closeBtn = document.getElementById('closeCart');
      const modal = document.getElementById('cartModal');
      function openCart(){ modal.classList.remove('hidden'); modal.setAttribute('aria-hidden','false'); }
      function closeCart(){ modal.classList.add('hidden'); modal.setAttribute('aria-hidden','true'); }
      openBtn?.addEventListener('click', openCart);
      closeBtn?.addEventListener('click', closeCart);
      modal?.addEventListener('click', (e)=>{ if(e.target===modal) closeCart(); });
      
      // Theme toggle
      const themeToggle = document.getElementById('toggleTheme');
      if(themeToggle) {
        themeToggle.addEventListener('click', () => {
          document.body.classList.toggle('theme-light');
          const isLight = document.body.classList.contains('theme-light');
          themeToggle.textContent = isLight ? 'Claro' : 'Oscuro';
          localStorage.setItem('theme', isLight ? 'light' : 'dark');
        });
        
        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if(savedTheme === 'light') {
          document.body.classList.add('theme-light');
          themeToggle.textContent = 'Claro';
        }
      }
    });
  </script>
</body>
</html>
